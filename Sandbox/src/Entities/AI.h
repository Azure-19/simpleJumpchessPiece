#pragma once
#include"Chessboard.h"
#include "CopyBoard.h"

class AI
{
public:
    AI(Chessboard* chessboard); // ¹¹Ôìº¯ÊýÐèÒªÒ»¸ö Chessboard Ö¸Õë
    ~AI();
    void setChessboard(Chessboard* chessboard);
    int dx[12] = { -2 , -1 , 0 , 0 , 2 , 1,  -2 , -1 , 2 , 1 , 0 , 0 };
    int dy[12] = { 0 ,  0 , 2 , 1, -2 , -1 ,  2 , 1 ,  0 , 0, -2 , -1 };
    int BLACK_YELLOW_VALUE[17][17] =
    {
        { 0, 0, 0, 0, -40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
        { 0,	 0,		 0,		0,		-30,        -28,     0,		    0,	   0,		0,		0,		0,		0,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-20,        -18,    -16,	    0,	   0,		0,		0,		0,		0,		0,		0,	  0,	        0 },
        { 0,	 0,		 0,		0,		-10,        -8,     -6,		    -4,	   0,		0,		0,		0,		0,		0,		0,	  0,		    0 },
        { -52,	 -39,	-26,	-13,	-2,          8,     18,		    28,	   38,	  -10,		-20,	-30,   -40,		0,		0,	  0,		    0 },
        { 0,	 -39,	-26,	-13,	0,           10,     20,		30,	   40,		48,		-8,		-18,	-28,	0,		0,	  0,		    0 },
        { 0,	 0,		-26,	-13,	0,           12,     22,		32,	   42,		50,		58,		-6,		-16,	0,		0,	  0,		    0 },
        { 0,	 0,		 0,	    -13,	0,           12,     22,		32,	   42,		52,		60,		68,		-4,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,	    0,	    -2,          10,     22,		32,	   42,		52,		62,		70,		78,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-10,         8,      20,		32,	   42,		52,		62,		72,		80,		94,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-20,         -8,     18,		30,	   42,		52,		62,		72,		80,		93,	  100,	  0,		    0 },
        { 0,	 0,		 0,		0,		-30,        -18,     -6,	    28,	   40,		50,		60,		70,		80,		93,	  100,	  107,		    0 },
        { 0,	 0,		 0,		0,		-40,        -28,     -16,	   -4,	   38,		48,		58,		68,		78,		94,	  100,	  107,		    114 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		-10,	-8,		-6,		-4,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		0,		-20,	-18,   -16,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		0,		0,		-30,    -28,    0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		0,		0,		0,	   -40,		0,		0,	  0,		    0 }

    };


    int BLUE_RED_VALUE[17][17] =
    {
            { 0,	 0,		 0,		0,		114,  0,	    0,		0,	   0,		0,		0,		0,		0,		0,		0,	  0,		0 },
            { 0,	 0,		 0,		0,		107,  107,	 0,		0,     0,   	0,		0,		0,		0,		0,		 0,	  0,	    0 },
            { 0,	 0,		 0,		0,		100,  100,	100,	    0,	   0,		0,		0,   	0,		0,		0,		 0,	  0,	    0 },
            { 0,	 0,		 0,		0,		94,   93,	93,	   94,     0,		0,		0,		0,		0,		0,		 0,	  0,		0 },
            { -40,	 -28,	 -16,	-4,		78,	  80,	 80,	80,    78,		-4,		-16,   -28,	   -40,	    0,		0,	  0,		0 },
            { 0,	 -30,	 -18,	-6, 	68,	  70,	 72,	72,    70,	   68,		-6,    -18,	   -30,		0,		0,	  0,		0 },
            { 0,	 0,		 -20,	-8,	    58,	  60,	 62,	62,    62,	   60,		58,	    -8,	   -20,		0,		0,	  0,		0 },
            { 0,	 0,		 0,		-10,	48,	  50,	 52,	52,    52,	   52,		50,		48,	   -10,		0,		0,	  0,		0 },
            { 0,	 0,		 0,		0,		38,	  40,	 42,	42,	   42, 	   42,		42,		40,		38,		0,		0,	  0,		0 },
            { 0,	 0,		 0,		0,		-4,	  28,	 30,	32,    32,     32,		32,		30,		28,		-4,		0,	  0,		0 },
            { 0,	 0,		 0,		0,		-16,  -6,	 18,	20,    22,	   22,		22,		20,		18,		-6,	   -16,   0,	    0 },
            { 0,	 0,		 0,		0,	   -28,  -18,	 -8,	8,     10, 	   12,		12,		10,		8,   	-8 ,	-18,  -28,		0 },
            { 0,	 0,		 0,		0,	   -40,  -30,	 -20,	-10,   -2,		0,		0,		0,		-2,	    -10,    -20,  -30,	  -40 },
            { 0,	 0,		 0,		0,		0,	  0,	 0,		0, 	   0,   	-13,    -13,    -13,   -13,    0,		0,	  0,		0 },
            { 0,	 0,		 0,		0,		0,	  0,	 0,		0, 	   0,		0,	    -26,     -26,	  -26,  	0,		0,	  0,		0 },
            { 0,	 0,		 0,		0,		0,	  0,	 0,		0, 	   0,		0,		0,	   -39,	    -39,	    0,		0,	  0,	    0 },
            { 0,	 0,		 0,		0,		0,	  0,	 0,		0,     0,		0,		0,		0,	   -52,  	0,		0,	  0,		0 }

    };

    int GREEN_PURPLE_VALUE[17][17] =
    {
        { 0,	 0,		 0,		0,		-40,        0,       0,		    0,	   0,		0,		0,		0,		0,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-30,        -28,     0,		    0,	   0,		0,		0,		0,		0,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-20,        -18,    -16,	    0,	   0,		0,		0,		0,		0,		0,		0,	  0,	        0 },
        { 0,	 0,		 0,		0,		-10,        -8,     -6,		    -4,	   0,		0,		0,		0,		0,		0,		0,	  0,		    0 },
        { -40,	 -28,	-16,	-4 ,	38,          48,     58,		68,	   78,	   94,		100,	107,    114,		0,		0,	  0,		 0 },
        { 0,	 -30,	-18,	-6,	    28,          40,     50,		60,	   70,		80,		93,		100,	107,	0,		0,	  0,		    0 },
        { 0,	 0,		-20,	-8,	    18,          30,     42,		52,	   62,		72,		80,		93,		100,	0,		0,	  0,		    0 },
        { 0,	 0,		 0,	    -10,	8,           20,     32,		42,	   52,		62,		72,		80,		94,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,	    0,	    -2,          10,     22,		32,	   42,		52,		62,		70,		78,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-13,         0,      12,		22,	   32,		42,		52,		60,		68,		-4,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		-26,         -13,     0,		12,	   22,		32,		42,		50,		58,		-6,	  -16,	  0,		    0 },
        { 0,	 0,		 0,		0,		-39,        -26,     -13,	    0,	   10,		20,		30,		40,		48,		-8,	  -18,	  -28,		    0 },
        { 0,	 0,		 0,		0,		-52,        -39,     -26,	   -13,	   -2,		8,		18,		28,		38,	   -10,   -20,	  -30,		  -40 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		-10,	-8,		-6,		-4,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		0,		-20,	-18,   -16,		0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		0,		0,		-30,    -28,    0,		0,	  0,		    0 },
        { 0,	 0,		 0,		0,		0,           0,     0,		    0,	   0,		0,		0,		0,	   -40,		0,		0,	  0,		    0 }

    };
    std::array<int, 2> AI_FindSkip(CopyBoard tempchess[17][17], int visited[17][17], std::array<int, 2>Pos);
    std::array<int, 2> AI_SetPos(int x, int y);
    std::array<int, 2>AI_ScreenCoordtoBoard(Chess* chess);
    bool AI_HasChess(int x, int y);
    std::array<int, 5> AI_FindDeeply(CopyBoard tempchess[17][17], ChessColor color_self, ChessColor color_oppo, int level, int depth);
    int AI_EvaluateBoard(std::array<int, 2>boardPos, ChessColor color);
    std::vector<std::array<int, 2>> AI_FindSelectPosition(CopyBoard copyboard[17][17], ChessColor color);
    std::array<int, 5> AI_Move(CopyBoard copyboard[17][17], ChessColor color, int level);

    std::array<int, 2> AI_GetStartPos();
    void AI_SetStartPos(std::array<int, 2> startPosition);

    std::array<int, 2> AI_GetTargetPos();
    void AI_SetTargetPos(std::array<int, 2> targetPosition);

    int AI_GetStatus();
    void AI_SetStatus(int status);
private:
    //---------------------------------------------------------------------------------------
    Chessboard* chessboard;
    //-----------------------------------------------------------------------------------------
    std::array<int, 2>startPos;
    std::array<int, 2>targetPos;
    int Status;
};



